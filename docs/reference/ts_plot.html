<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>ts_plot — ts_plot • rtweet</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">rtweet</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>ts_plot</h1>
    </div>

    
    <p>Plots frequency of tweets as time series or, if multiple
  filters (text-based criteria used to subset data) are
  specified, multiple time series.</p>
    

    <pre><span class='fu'>ts_plot</span>(<span class='no'>rt</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='st'>"days"</span>, <span class='kw'>dtname</span> <span class='kw'>=</span> <span class='st'>"created_at"</span>, <span class='kw'>txt</span> <span class='kw'>=</span> <span class='st'>"text"</span>,
  <span class='kw'>na.omit</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>filter</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>key</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>trim</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>lwd</span> <span class='kw'>=</span> <span class='fl'>1.5</span>,
  <span class='kw'>linetype</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>cols</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>theme</span> <span class='kw'>=</span> <span class='st'>"light"</span>, <span class='kw'>main</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>subtitle</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>adj</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>xlab</span> <span class='kw'>=</span> <span class='st'>"Time"</span>, <span class='kw'>ylab</span> <span class='kw'>=</span> <span class='st'>"Freq"</span>,
  <span class='kw'>box</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>axes</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>legend.title</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>ticks</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>cex</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>cex.main</span> <span class='kw'>=</span> <span class='fl'>1.25</span>, <span class='kw'>cex.sub</span> <span class='kw'>=</span> <span class='fl'>0.8</span>, <span class='kw'>cex.lab</span> <span class='kw'>=</span> <span class='fl'>0.85</span>, <span class='kw'>cex.axis</span> <span class='kw'>=</span> <span class='fl'>0.7</span>,
  <span class='kw'>cex.legend</span> <span class='kw'>=</span> <span class='fl'>0.9</span>, <span class='no'>mar</span>, <span class='kw'>font.main</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>xtime</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>plot</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <dl class="dl-horizontal">
      <dt>rt</dt>
      <dd>Tweets or users data frame. Technically, this argument
will accept any recursive object (i.e., list or data frame)
containing a named date-time (POSIXt) element or column. By
default, <code>ts_plot</code> assumes the date-time variable is
labeled &quot;created_at&quot;, which is the default date-time label used
in tweets data. However, this function should work with any
data source, assuming it meets the (a) POSIXt class requirement
and (b) the date-time variable is given the appropriate name
(if not &quot;created_at&quot; then a label specified with the
<code>dtname</code> argument).</dd>
      <dt>by</dt>
      <dd>Unit of time, e.g., <code>secs, days, weeks,
months, years</code> by which to aggregate observations. By default,
<code>ts_plot</code> tries to aggregate time by &quot;days&quot;, but for some
high-frequency data sets that only span a matter of minutes or
hours, this is likely to either produce an error or a truly
disappointing plot. In these cases, users are encouraged to
explore smaller units of time. Conversely, high-frequency and
long [in duration] data sets may be difficult to read given the
default unit of time. In these cases, users should try larger
units of time, e.g., &quot;weeks&quot; or &quot;months&quot;. This parameter will
also accept numeric quantifiers in addition to units of time.
By default, for example, the provided unit of time is
assumed to specify whole (1) units of time. It is posible to
tweak this unit by specifying the number (or fraction) of time
units, e.g., <code>by = &quot;2 weeks&quot;</code>, <code>by = &quot;30 secs&quot;</code>,
<code>by = &quot;.333 days&quot;</code>.</dd>
      <dt>dtname</dt>
      <dd>Name of date-time (POSIXt) column (if data frame)
or element (if list). Defaults to &quot;created_at&quot;, the default
label supplied as a timestamp variable for tweets data. This
function is exportable to non-Twitter data, assuming the
intended data object includes a date-time variable with the
same label that&#39;s supplied to the <code>dtname</code> parameter.</dd>
      <dt>txt</dt>
      <dd>Name of distinguishing variable in data frame or list
to which filter is applied. Defaults to text.</dd>
      <dt>na.omit</dt>
      <dd>Logical indicating whether to omit rows with
missing (NA) values for the dtname variable. Defaults to TRUE.
If FALSE and data contains missing values for the date-time
variable, an error will be returned to the user.</dd>
      <dt>filter</dt>
      <dd>Vector of regular expressions with which to
filter data (creating multiple time series).</dd>
      <dt>key</dt>
      <dd>Optional provide pretty labels for filters.
Defaults to actual filters.</dd>
      <dt>trim</dt>
      <dd>Logical indicating whether to trim extreme intervals,
which often capture artificially lower frequencies. Defaults to
FALSE.</dd>
      <dt>lwd</dt>
      <dd>Width of time series line(s). Defaults to 1.5</dd>
      <dt>linetype</dt>
      <dd>Logical indicating whether lines should be
distinguished by line type.</dd>
      <dt>cols</dt>
      <dd>Colors for filters. Leave NULl for default color
scheme.</dd>
      <dt>theme</dt>
      <dd>Character string specifyng whether and which
plot theme should be used; options include &quot;lighter&quot;,
&quot;darker&quot;, and &quot;nerdy&quot;</dd>
      <dt>main</dt>
      <dd>Optional, text for plot title.</dd>
      <dt>subtitle</dt>
      <dd>Optional, text for plot subtitle.</dd>
      <dt>adj</dt>
      <dd>Logical indicating whether to left justify main
plot title. Defaults to TRUE. To futher specify the location
of the title, provide a numeric value between 0 (left) and
1 (right).</dd>
      <dt>xlab</dt>
      <dd>Optional, text for x-axis title, defaults to
&quot;Time&quot;.</dd>
      <dt>ylab</dt>
      <dd>Optional, text for y-axis title, defaults to
&quot;Number of Tweets&quot;</dd>
      <dt>box</dt>
      <dd>Logical indicating whether to draw box around
plot area. Defaults to false.</dd>
      <dt>axes</dt>
      <dd>Logical indicating whether to draw axes. Defaults
to true.</dd>
      <dt>legend.title</dt>
      <dd>Provide title for legend ro ignore to
leave blank (default)</dd>
      <dt>ticks</dt>
      <dd>Numeric specifying width of tick marks. Defaults
to zero. If you&#39;d like tick marks, try setting this value
to 1.25.</dd>
      <dt>cex</dt>
      <dd>Global cex setting defaults to .90</dd>
      <dt>cex.main</dt>
      <dd>Size of plot title (if plot title provided
via <code>main = &quot;title&quot;</code> argument).</dd>
      <dt>cex.sub</dt>
      <dd>Size of subtitles</dd>
      <dt>cex.lab</dt>
      <dd>Size of axis labels</dd>
      <dt>cex.axis</dt>
      <dd>Size of axis text</dd>
      <dt>cex.legend</dt>
      <dd>Size of legend text</dd>
      <dt>mar</dt>
      <dd>Margins in number of lines.</dd>
      <dt>font.main</dt>
      <dd>Font style of main title if provided. Default is
to override R default, making it non-bold. To restore bold, set
this value to 2.</dd>
      <dt>xtime</dt>
      <dd>Format date-time labels in x-axis. Accepts any format
string via <code>strptime</code>.</dd>
      <dt>plot</dt>
      <dd>Logical indicating whether to draw plot.</dd>
      <dt>&#8230;</dt>
      <dd>Arguments passed to plot (and par) function</dd>
    </dl>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## Not run: ------------------------------------</span>
<span class='co'># ## stream tweets mentioning trump for 30 mins</span>
<span class='co'># rt &lt;- rtweet::stream_tweets(</span>
<span class='co'>#     q = "realdonaldtrump",</span>
<span class='co'>#     timeout = (60 * 60 * 30))</span>
<span class='co'># </span>
<span class='co'># ## plot tweet data aggregated by minute (default)</span>
<span class='co'># ts_plot(rt, by = "mins")</span>
<span class='co'># </span>
<span class='co'># ## use a different time increment, line width, and theme</span>
<span class='co'># ts_plot(rt, by = "30 secs", lwd = .75, theme = "inverse")</span>
<span class='co'># </span>
<span class='co'># ## filter data using regular expressions and</span>
<span class='co'># ## plot each corresponding time series</span>
<span class='co'># ts_plot(rt, by = "mins",</span>
<span class='co'>#         theme = "gray",</span>
<span class='co'>#         main = "Partisanship in tweets about Trump",</span>
<span class='co'>#         filter = c("democrat|liberal|libs",</span>
<span class='co'>#                    "republican|conservativ|gop"),</span>
<span class='co'>#         key = c("Democrats", "Republicans"))</span>
<span class='co'># </span>
<span class='co'># ## ts_plot also silently returns data frame</span>
<span class='co'># rt.ts &lt;- ts_plot(rt, by = "mins")</span>
<span class='co'># </span>
<span class='co'># ## printing should yield around 30 rows (give or take)</span>
<span class='co'># ## since stream was 30 mins and aggregated by minute</span>
<span class='co'># rt.ts</span>
<span class='co'># </span>
<span class='co'># ## the returned data frame is tidy with three columns</span>
<span class='co'># ## Column 1 - time Date-time obj of [median] time intervals</span>
<span class='co'># ## Column 2 - freq Integer (class double) frequency counts</span>
<span class='co'># ## Column 3 - filter Keys of different time series filters</span>
<span class='co'># rt.ts &lt;- ts_plot(rt, by = "mins",</span>
<span class='co'>#                  filter = c("democrat|liberal|libs",</span>
<span class='co'>#                             "republican|conservativ|gop"),</span>
<span class='co'>#                  key = c("Democrats", "Republicans"))</span>
<span class='co'># </span>
<span class='co'># ## this makes it easy to pass the data along to ggplot</span>
<span class='co'># ## but if anyone asks you, you prefer the awesome rtweet</span>
<span class='co'># ## plot themes over the ggplot2 themes!</span>
<span class='co'># library(ggplot2)</span>
<span class='co'># rt.ts %&gt;%</span>
<span class='co'>#     ggplot(aes(x = time, y = freq, color = filter)) +</span>
<span class='co'>#     geom_line()</span>
<span class='co'>## ---------------------------------------------</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
            
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Michael W. Kearney.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
