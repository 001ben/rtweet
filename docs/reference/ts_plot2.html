<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>ts_plot — ts_plot2 • rtweet</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">rtweet</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>ts_plot</h1>
    </div>

    
    <p>Plots frequency of tweets as time series or, if multiple
  filters (text-based criteria used to subset data) are
  specified, multiple time series.</p>
    

    <pre class="usage"><span class='fu'>ts_plot2</span>(<span class='no'>rt</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='st'>"days"</span>, <span class='kw'>dtname</span> <span class='kw'>=</span> <span class='st'>"created_at"</span>, <span class='kw'>txt</span> <span class='kw'>=</span> <span class='st'>"text"</span>,
  <span class='kw'>na.omit</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>filter</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>key</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>trim</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>lwd</span> <span class='kw'>=</span> <span class='fl'>1.5</span>,
  <span class='kw'>linetype</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>cols</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>theme</span> <span class='kw'>=</span> <span class='st'>"light"</span>, <span class='kw'>main</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>subtitle</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>adj</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>xlab</span> <span class='kw'>=</span> <span class='st'>"Time"</span>, <span class='kw'>ylab</span> <span class='kw'>=</span> <span class='st'>"Freq"</span>,
  <span class='kw'>box</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>axes</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>legend.title</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>ticks</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>cex</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>cex.main</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>cex.sub</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>cex.lab</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>cex.axis</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>cex.legend</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>mar</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>font.main</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>xtime</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>plot</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>rt</th>
      <td><p>Tweets or users data frame. Technically, this argument
will accept any recursive object (i.e., list or data frame)
containing a named date-time (POSIXt) element or column. By
default, <code>ts_plot</code> assumes the date-time variable is
labeled "created_at", which is the default date-time label used
in tweets data. However, this function should work with any
data source, assuming it meets the (a) POSIXt class requirement
and (b) the date-time variable is given the appropriate name
(if not "created_at" then a label specified with the
<code>dtname</code> argument).</p></td>
    </tr>
    <tr>
      <th>by</th>
      <td><p>Unit of time, e.g., <code>secs, days, weeks,
months, years</code> by which to aggregate observations. By default,
<code>ts_plot</code> tries to aggregate time by "days", but for some
high-frequency data sets that only span a matter of minutes or
hours, this is likely to either produce an error or a truly
disappointing plot. In these cases, users are encouraged to
explore smaller units of time. Conversely, high-frequency and
long [in duration] data sets may be difficult to read given the
default unit of time. In these cases, users should try larger
units of time, e.g., "weeks" or "months". This parameter will
also accept numeric quantifiers in addition to units of time.
By default, for example, the provided unit of time is
assumed to specify whole (1) units of time. It is posible to
tweak this unit by specifying the number (or fraction) of time
units, e.g., <code>by = "2 weeks"</code>, <code>by = "30 secs"</code>,
<code>by = ".333 days"</code>.</p></td>
    </tr>
    <tr>
      <th>dtname</th>
      <td><p>Name of date-time (POSIXt) column (if data frame)
or element (if list). Defaults to "created_at", the default
label supplied as a timestamp variable for tweets data. This
function is exportable to non-Twitter data, assuming the
intended data object includes a date-time variable with the
same label that's supplied to the <code>dtname</code> parameter.</p></td>
    </tr>
    <tr>
      <th>txt</th>
      <td><p>Name of distinguishing variable in data frame or list
to which filter is applied. Defaults to text.</p></td>
    </tr>
    <tr>
      <th>na.omit</th>
      <td><p>Logical indicating whether to omit rows with
missing (NA) values for the dtname variable. Defaults to TRUE.
If FALSE and data contains missing values for the date-time
variable, an error will be returned to the user.</p></td>
    </tr>
    <tr>
      <th>filter</th>
      <td><p>Vector of regular expressions with which to
filter data (creating multiple time series).</p></td>
    </tr>
    <tr>
      <th>key</th>
      <td><p>Optional provide pretty labels for filters.
Defaults to actual filters.</p></td>
    </tr>
    <tr>
      <th>trim</th>
      <td><p>Logical indicating whether to trim extreme intervals,
which often capture artificially lower frequencies. Defaults to
FALSE.</p></td>
    </tr>
    <tr>
      <th>lwd</th>
      <td><p>Width of time series line(s). Defaults to 1.5</p></td>
    </tr>
    <tr>
      <th>linetype</th>
      <td><p>Logical indicating whether lines should be
distinguished by line type.</p></td>
    </tr>
    <tr>
      <th>cols</th>
      <td><p>Colors for filters. Leave NULl for default color
scheme.</p></td>
    </tr>
    <tr>
      <th>theme</th>
      <td><p>Either integer (0-8) or character string specifyng the
plot theme. Options include "light", "inverse", "dark", "nerd",
"gray", "spacegray", "minimal", and "apa" (my attempt at making an
APA-consistent graphic).</p></td>
    </tr>
    <tr>
      <th>main</th>
      <td><p>Optional, title of the plot. By default, the title is
printed on top of the plot and it is left-justified (ggplot2 style).
To alter justification, see <code>adj</code>.</p></td>
    </tr>
    <tr>
      <th>subtitle</th>
      <td><p>Optional, text for plot subtitle. Inherits
justification method from <code>main</code>.</p></td>
    </tr>
    <tr>
      <th>adj</th>
      <td><p>Logical indicating whether to left justify main
plot title. Defaults to TRUE. To more exactly specify hornizontal
location of the title, provide a numeric value between 0 (left) and
1 (right).</p></td>
    </tr>
    <tr>
      <th>xlab</th>
      <td><p>Optional, text for x-axis title, defaults to
"Time".</p></td>
    </tr>
    <tr>
      <th>ylab</th>
      <td><p>Optional, text for y-axis title, defaults to
"Freq"</p></td>
    </tr>
    <tr>
      <th>box</th>
      <td><p>Logical indicating whether to draw box around
plot area. Defaults to false.</p></td>
    </tr>
    <tr>
      <th>axes</th>
      <td><p>Logical indicating whether to draw axes. Defaults
to true. Users may set this to FALSE and supply their own axes
using the base graphics axis function.</p></td>
    </tr>
    <tr>
      <th>legend.title</th>
      <td><p>Provide title for legend or ignore to leave
blank (default).</p></td>
    </tr>
    <tr>
      <th>ticks</th>
      <td><p>Numeric specifying width of tick marks. Defaults
to zero. If you'd like tick marks, try setting this value
to 1.25.</p></td>
    </tr>
    <tr>
      <th>cex</th>
      <td><p>Global cex setting defaults to 1.0.</p></td>
    </tr>
    <tr>
      <th>cex.main</th>
      <td><p>Size of plot title (if plot title provided
via <code>main = "title"</code> argument).</p></td>
    </tr>
    <tr>
      <th>cex.sub</th>
      <td><p>Size of subtitles</p></td>
    </tr>
    <tr>
      <th>cex.lab</th>
      <td><p>Size of axis labels</p></td>
    </tr>
    <tr>
      <th>cex.axis</th>
      <td><p>Size of axis text</p></td>
    </tr>
    <tr>
      <th>cex.legend</th>
      <td><p>Size of legend text</p></td>
    </tr>
    <tr>
      <th>mar</th>
      <td><p>Margins in number of lines.</p></td>
    </tr>
    <tr>
      <th>font.main</th>
      <td><p>Font style of main title if provided. Default is
to 1, which means (non-bold) normal font, overriding R's bold
default, which I think is a little to aggressive. If you disagree
with me, you can make the title bold by setting this value to 2.</p></td>
    </tr>
    <tr>
      <th>xtime</th>
      <td><p>Format date-time labels in x-axis. Accepts any format
string via <code>strptime</code>, e.g., <code>xtime = "%F %H:%S"</code>.</p></td>
    </tr>
    <tr>
      <th>plot</th>
      <td><p>Deprecated. Use <code>ts_filter</code> to create
time series-like data frame.</p></td>
    </tr>
    <tr>
      <th>&#8230;</th>
      <td><p>Arguments passed to base graphics plot function.</p></td>
    </tr>
    </table>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>not_run</span>({
  <span class='co'>## stream tweets mentioning trump for 30 mins</span>
  <span class='no'>rt</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stream_tweets.html'>stream_tweets</a></span>(
      <span class='kw'>q</span> <span class='kw'>=</span> <span class='st'>"realdonaldtrump"</span>,
      <span class='kw'>timeout</span> <span class='kw'>=</span> (<span class='fl'>60</span> * <span class='fl'>60</span> * <span class='fl'>30</span>))

  <span class='co'>## plot tweet data aggregated by minute (default)</span>
  <span class='fu'><a href='ts_plot.html'>ts_plot</a></span>(<span class='no'>rt</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='st'>"mins"</span>)

  <span class='co'>## use a different time increment, line width, and theme</span>
  <span class='fu'><a href='ts_plot.html'>ts_plot</a></span>(<span class='no'>rt</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='st'>"30 secs"</span>, <span class='kw'>lwd</span> <span class='kw'>=</span> <span class='fl'>.75</span>, <span class='kw'>theme</span> <span class='kw'>=</span> <span class='st'>"inverse"</span>)

  <span class='co'>## filter data using regular expressions and</span>
  <span class='co'>## plot each corresponding time series</span>
  <span class='fu'><a href='ts_plot.html'>ts_plot</a></span>(<span class='no'>rt</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='st'>"mins"</span>,
          <span class='kw'>theme</span> <span class='kw'>=</span> <span class='st'>"gray"</span>,
          <span class='kw'>main</span> <span class='kw'>=</span> <span class='st'>"Partisanship in tweets about Trump"</span>,
          <span class='kw'>filter</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"democrat|liberal|libs"</span>,
                     <span class='st'>"republican|conservativ|gop"</span>),
          <span class='kw'>key</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"Democrats"</span>, <span class='st'>"Republicans"</span>))

  <span class='co'>## ts_plot also accepts data frames created via ts_filter</span>
  <span class='no'>rt.ts</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ts_filter.html'>ts_filter</a></span>(
      <span class='no'>rt</span>, <span class='st'>"mins"</span>,
      <span class='kw'>filter</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"democrat|liberal|libs"</span>,
                 <span class='st'>"republican|conservativ|gop"</span>),
      <span class='kw'>key</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"Democrats"</span>, <span class='st'>"Republicans"</span>))
  <span class='co'>## printing should yield around 30 rows (give or take)</span>
  <span class='co'>## since stream was 30 mins and aggregated by minute</span>
  <span class='no'>rt.ts</span>

  <span class='co'>## Pass data frame created by ts_filter to ts_plot</span>
  <span class='fu'><a href='ts_plot.html'>ts_plot</a></span>(<span class='no'>rt.ts</span>, <span class='kw'>theme</span> <span class='kw'>=</span> <span class='st'>"spacegray"</span>)

  <span class='co'>## the returned data frame from ts_filter also fits the</span>
  <span class='co'>## tidyverse and includes three columns</span>
  <span class='co'>## Column 1 - time Date-time obj of [median] time intervals</span>
  <span class='co'>## Column 2 - freq Integer (class double) frequency counts</span>
  <span class='co'>## Column 3 - filter Keys of different time series filters</span>

  <span class='co'>## This makes it easy to pass the data along to ggplot</span>
  <span class='co'>## but my themes are cooler anyway so why bother?</span>
  <span class='co'>## library(ggplot2)</span>
  <span class='co'>## rt.ts `%&gt;%`</span>
  <span class='co'>##     ggplot(aes(x = time, y = freq, color = filter)) +</span>
  <span class='co'>##     geom_line()</span>
})</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
            
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Michael W. Kearney.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
